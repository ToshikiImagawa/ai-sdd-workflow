# Skill サポートファイル・サポートディレクトリ ガイド

[Claude Code公式ドキュメントのSkills](https://code.claude.com/docs/en/skills)に基づくサポートファイルとサポートディレクトリのリファレンス。

## 基本原則

- `SKILL.md` は500行以下に保つ
- 詳細なリファレンス資料は別ファイルに分離する
- `SKILL.md` からサポートファイルを参照し、Claudeが内容と読み込みタイミングを把握できるようにする

## ディレクトリ構造

```
my-skill/
├── SKILL.md           # メイン指示（必須）
├── references/        # リファレンス資料（必要に応じて読み込み）
│   ├── api-docs.md
│   └── schema.md
├── templates/         # テンプレートファイル（出力生成用）
│   └── report.md
├── examples/          # 出力例
│   └── sample.md
├── scripts/           # 実行スクリプト（実行されるがコンテキストには読み込まれない）
│   └── validate.sh
└── assets/            # 出力に使用するファイル（画像、フォント等）
    └── logo.png
```

## サポートディレクトリ一覧

| ディレクトリ        | 用途                    | コンテキスト読み込み           |
|:--------------|:----------------------|:---------------------|
| `references/` | ドメイン知識、APIドキュメント、スキーマ | Claudeが必要と判断した時に読み込み |
| `templates/`  | 出力生成用テンプレート           | 使用時に読み込み             |
| `examples/`   | 期待される出力の例             | 必要時に読み込み             |
| `scripts/`    | 実行スクリプト（Python/Bash等） | 実行のみ。コンテキストに読み込まず    |
| `assets/`     | 出力に使用するファイル（画像、フォント等） | コンテキストに読み込まず         |

## 各ディレクトリの詳細

### references/

Claudeの処理や思考に情報を提供するため、必要に応じてコンテキストに読み込むドキュメントやリファレンス資料。

- **含めるタイミング**: Claudeが作業中に参照すべきドキュメントがある場合
- **例**: `references/finance.md`、`references/api_docs.md`、`references/policies.md`
- **ユースケース**: データベーススキーマ、APIドキュメント、ドメイン知識、社内ポリシー、詳細なワークフローガイド
- **ベストプラクティス**:
    - SKILL.mdをスリムに保ち、Claudeが必要と判断した時のみ読み込む
    - ファイルが大きい場合（1万語超）、SKILL.mdにgrep検索パターンを含める
    - 情報はSKILL.mdかreferencesファイルのどちらか一方にのみ配置する（重複を避ける）
    - SKILL.mdには必要最低限の手順指示とワークフローガイダンスのみを残す

### templates/

出力生成用のテンプレートファイル。Claudeがレポートやドキュメントを生成する際に使用する。

- **含めるタイミング**: スキルが定型フォーマットの出力を生成する場合
- **例**: `templates/report.md`、`templates/ja/lint_report.md`
- **ユースケース**: レポートテンプレート、出力フォーマット定義、ドキュメントスケルトン

### examples/

期待される出力のサンプル。Claudeが出力の品質や形式を理解するための参考資料。

- **含めるタイミング**: 期待する出力形式を明示したい場合
- **例**: `examples/sample.md`、`examples/lint_example_output.md`
- **ユースケース**: 正しい出力例、エッジケースの例

### scripts/

決定論的な信頼性が必要なタスクや、繰り返し再生成されるタスク向けの実行コード。

- **含めるタイミング**: 同じコードが繰り返し再生成される場合や、決定論的な信頼性が必要な場合
- **例**: `scripts/validate.sh`、`scripts/rotate_pdf.py`
- **利点**: トークン効率が良い、決定論的、コンテキストに読み込まずに実行可能
- **注意**: パッチ適用や環境固有の調整のため、Claudeがスクリプトを読み取る必要がある場合もある

### assets/

コンテキストに読み込むことを意図せず、Claudeが生成する出力内で使用するファイル。

- **含めるタイミング**: スキルが最終出力で使用するファイルがある場合
- **例**: `assets/logo.png`、`assets/slides.pptx`、`assets/font.ttf`
- **ユースケース**: テンプレート、画像、アイコン、ボイラープレートコード、フォント

## SKILL.md からの参照方法

サポートファイルは `SKILL.md` から参照し、Claudeが各ファイルの内容と読み込みタイミングを把握できるようにする。

```markdown
## Additional resources

- 完全なAPIの詳細は [reference.md](references/xxx_reference.md) を参照
- 使用例は [examples.md](examples/xxx_examples.md) を参照
```

## スキルエントリポイント以外の必須・許可ファイル

スキルディレクトリのルート直下に置けるファイル:

| ファイル        | 必須 | 説明                  |
|:------------|:---|:--------------------|
| `SKILL.md`  | 必須 | メイン指示ファイル（エントリポイント） |
| `README.md` | 任意 | スキルの説明（人間向けドキュメント）  |
| サポートディレクトリ群 | 任意 | 上記5種のサポートディレクトリ     |