# Output Templates スキル

AI-SDDワークフローの各コマンドで使用する出力フォーマットテンプレートを提供します。

## 概要

このスキルは、Claudeがコマンド実行結果をユーザーに出力する際の標準フォーマットを定義します。各テンプレートには以下の情報が含まれます：

- 実行結果のサマリー
- 生成されたファイル/変更内容
- 次のステップ（ユーザーが実行すべきアクション）
- 推奨する手動検証項目
- 検証コマンド

## 提供するテンプレート

### 1. 初期化完了メッセージ (`init`)

**テンプレート**: `templates/init_output.md`

**用途**: `/sdd_init` コマンド実行後の完了メッセージ

**内容**:
- 生成されたディレクトリ構造
- 作成されたプロジェクト原則ファイル
- 生成されたテンプレートファイル
- 次のステップ（PRD作成、仕様書作成など）

### 2. タスク分解出力 (`breakdown`)

**テンプレート**: `templates/breakdown_output.md`

**用途**: `/task_breakdown` コマンドで生成されるタスクリスト

**内容**:
- タスク一覧（Phase別）
- 依存関係図（Mermaid）
- 実装の注意事項
- 参照ドキュメント

### 3. クリーンアップ確認 (`cleanup`)

**テンプレート**: `templates/cleanup_output.md`

**用途**: `/task_cleanup` コマンド実行時の確認メッセージ

**内容**:
- クリーンアップ対象の確認
- 設計判断の統合状況
- 削除予定のファイル

### 4. 仕様明確化レポート (`clarification`)

**テンプレート**: `templates/clarification_output.md`

**用途**: `/clarify` コマンドの分析結果

**内容**:
- 明確度スコア
- 不明点の一覧（カテゴリ別）
- 質問リスト（優先順位付き）
- 実装開始の判断基準

### 5. 整合性チェック結果 (`check_spec`)

**テンプレート**: `templates/check_spec_output.md`

**用途**: `/check_spec` コマンドの検証結果

**内容**:
- 整合性チェック結果
- 不整合箇所の詳細
- 修正提案
- 実装ステータスの更新状況

### 6. マイグレーション結果 (`migrate`)

**テンプレート**: `templates/migrate_output.md`

**用途**: `/sdd_migrate` コマンドの実行結果

**内容**:
- 検出された旧構成
- 実行された移行処理
- 次のステップ（確認事項）

### 7. 原則管理結果 (`constitution`)

**テンプレート**: `templates/constitution_output.md`

**用途**: `/constitution` コマンドの実行結果

**内容**:
- 原則の作成/更新結果
- 準拠検証結果
- テンプレート同期状態
- 次のアクション

### 8. PRD生成完了 (`prd`)

**テンプレート**: `templates/prd_output.md`

**用途**: `/generate_prd` コマンドの実行結果

**内容**:
- 生成されたPRDファイル
- CONSTITUTION.md 準拠チェック結果
- 次のステップ
- 推奨する手動検証
- 検証コマンド

### 9. 仕様書・設計書生成完了 (`spec`)

**テンプレート**: `templates/spec_output.md`

**用途**: `/generate_spec` コマンドの実行結果

**内容**:
- 生成された仕様書・設計書ファイル
- CONSTITUTION.md 準拠チェック結果（spec + design）
- 次のステップ
- 推奨する手動検証
- 検証コマンド

## 使用方法

コマンドmdから以下のように呼び出してください：

```markdown
## 出力

`output-templates` スキルを使用して初期化完了メッセージを出力してください。
```

または特定のテンプレートを指定：

```markdown
## 出力

`output-templates` スキルの `breakdown` テンプレートを使用してタスク分解結果を出力してください。
```

## テンプレートの構造

各テンプレートは以下の構造を持ちます：

1. **固定セクション**: そのまま出力する部分（例: "### 生成されたファイル"）
2. **プレースホルダー**: `{変数名}` 形式で記載、実行時に実際の値に置換する部分
3. **条件付きセクション**: 特定の条件下でのみ出力する部分（例: "--fullオプション指定時のみ"）

### プレースホルダーの種類

| プレースホルダー | 説明 | 例 |
|:--|:--|:--|
| `{機能名}` | 対象の機能名 | "user-login" |
| `{parent}` | 親機能名（階層構造の場合） | "auth/" |
| `{n}` | 件数や番号 | "3" |
| `{タスク名}` | タスクの具体的な名称 | "ユーザー認証APIの実装" |
| `{count}` | カウント数 | "5 items" |

### 条件付きセクションの扱い

テンプレート内に「※ 〜の場合」や「--fullオプション指定時のみ」などの注釈がある場合、その条件に応じて出力を調整してください。

## 使用例

### 例1: check_spec_output.md の使用

```markdown
# コマンド実行フロー

1. Read: skills/output-templates/templates/check_spec_output.md
2. テンプレートを読み込む
3. 以下のプレースホルダーを置換：
   - `{機能名}` → "user-login"
   - `{n}` → 実際の差異件数（例: "3"）
   - `{差異のタイトル}` → 具体的な差異の説明
4. 条件付きセクション「--fullオプション指定時のみ」を確認：
   - --full指定時のみ該当セクションを出力
   - 未指定時はスキップ
5. 完成した出力を生成
```

### 例2: breakdown_output.md の使用

```markdown
# タスク分解結果の生成

1. Read: skills/output-templates/templates/breakdown_output.md
2. テンプレートを読み込む
3. Mermaid図のプレースホルダーを置換：
   - `T1_1["1.1 タスク名"]` → `T1_1["1.1 ユーザー認証APIの実装"]`
   - Phase、タスクIDに応じて動的に生成
4. タスク一覧のプレースホルダーを置換：
   - `{タスク名}` → 実際のタスク名
   - `{依存タスク}` → 依存関係にあるタスクのリスト
5. 完成した出力を生成
```

## テンプレートの更新

テンプレートを更新する際は以下に注意してください：

1. **ユーザー向けの情報のみ記載**: Claudeへの指示ではなく、ユーザーが見るメッセージ
2. **次のステップは具体的に**: ユーザーが次に何をすべきか明確に
3. **検証項目はチェックリスト形式**: `- [ ]` で記載
4. **絵文字は控えめに**: 状態表示（🟢🔴🟡）のみ使用

## 注意事項

- このスキルはコマンドの**出力フォーマット**のみを提供します
- プロジェクトで使用する**ドキュメントテンプレート**（PRD_TEMPLATE.md等）は `sdd-templates` スキルで管理されます
- テンプレートは純粋なMarkdownファイルとして記述し、コードブロックのラッパーは使用しません
