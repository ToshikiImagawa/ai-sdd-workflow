<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SDD Dependency Graph</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <div class="header">
        <h1 id="graph-title">SDD Dependency Graph</h1>
        <p id="graph-subtitle">Loading...</p>
    </div>

    <div class="tabs">
        <button class="tab-button active" data-tab="single">Single View</button>
        <button class="tab-button" data-tab="split">Split View</button>
    </div>

    <div class="controls">
        <div class="zoom-controls">
            <button onclick="zoomIn()">üîç Zoom In</button>
            <button onclick="zoomOut()">üîé Zoom Out</button>
            <button onclick="resetZoom()">‚Ü∫ Reset</button>
            <span class="zoom-level" id="zoom-level">100%</span>
        </div>

        <button onclick="downloadSVG()">‚¨áÔ∏è SVG</button>

        <div class="info">
            <span id="node-count">Loading...</span>
        </div>
    </div>

    <!-- Single View Tab -->
    <div class="tab-content active" id="tab-single">
        <div id="diagram-containers-single">
            <div id="single-container" class="diagram-container">
                <div class="diagram-section-title" id="single-title">SDD Dependency Graph</div>
                <div id="mermaid-diagram" class="mermaid-diagram mermaid">
                    Loading diagram...
                </div>
            </div>
        </div>
    </div>

    <!-- Split View Tab -->
    <div class="tab-content" id="tab-split">
        <div id="diagram-containers-split">
            <div id="split-container-1" class="diagram-container split">
                <div class="diagram-section-title" id="title-1">PRD-Based Documents</div>
                <div id="mermaid-diagram-1" class="mermaid-diagram mermaid">
                    Loading diagram...
                </div>
            </div>

            <div id="split-container-2" class="diagram-container split">
                <div class="diagram-section-title" id="title-2">Direct Documents (from CONSTITUTION)</div>
                <div id="mermaid-diagram-2" class="mermaid-diagram mermaid">
                    Loading diagram...
                </div>
            </div>
        </div>
    </div>

    <div class="overlay" id="overlay" onclick="closeNodeDetail()"></div>
    <div class="node-detail" id="node-detail">
        <button class="close-btn" onclick="closeNodeDetail()">&times;</button>
        <div id="detail-content"></div>
    </div>

    <script src="/js/app.js"></script>
</body>
</html>
